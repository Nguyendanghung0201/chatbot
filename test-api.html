<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    .particles-container {
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        width: 100%;
        z-index: 2;
    }
</style>

<body>
    <input type="file" id="img" name="img" />
    <button onclick="upload()">upload images</button>
</body>
<script>

    upload = () => {
        var files = document.getElementById('img').files;
        console.log(files[0])
        var formData = new FormData();
        formData.append("template", files[0]);
        formData.append('receive', 'hi hung')
        formData.append('title', 'bán muốn mua sản phẩm nào?')
        formData.append('subtitle', 'sản phầm của shop')
        formData.append('buttons',JSON.stringify([{
            'type' : "web_url",
            "url":"https://petersfancybrownhats.com",
            "title":"View Website"
        },{
            "type":"postback",
            "title":"Start Chatting",
            "payload":"id action"
        },{
            type : "web_url",
            "url":"https://petersfancybrownhats.com",
            "title":"View Website"
        }]) )
        formData.append('type', 'generic')
        console.log(formData.get('template'))
        fetch('http://localhost:8080/create-bot-template', {
            method: "POST",
            // headers: {
            //     "Content-Type": "application/json",
            //     // 'Content-Type': 'application/x-www-form-urlencoded',
            // },
            body: formData,

        }).then(res => res.json())
            .then(data => {
                console.log(data)
            })
    }
</script>

</html>